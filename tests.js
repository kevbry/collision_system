var comparator = function(a, b) {
  return a > b ? 1 : a == b ? 0 : -1;
};

module("priority queue");
test("should release big arrays if possible", function() {
  var pq = new PriorityQueue(comparator);

  pq.enqueue(1);
  pq.enqueue(2);
  pq.enqueue(3);
  pq.enqueue(4);
  pq.enqueue(5);
  pq.enqueue(6);
  pq.enqueue(7);
  pq.enqueue(8);
  pq.enqueue(9);
  pq.enqueue(10);
  pq.enqueue(11);
  pq.enqueue(12);
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();

  equal(pq._itens.length, 6);
});
test("should enqueue itens", function() {
  var pq = new PriorityQueue(comparator);
  pq.enqueue(1);
  pq.enqueue(2);

  equal(pq.size, 2);
});

test("should dequeue itens in the right order", function() {
  var pq = new PriorityQueue(comparator);

  pq.enqueue(2);
  pq.enqueue(1);
  pq.enqueue(4);
  pq.enqueue(3);

  equal(4, pq.size);
  equal(pq.dequeue(), 1);
  equal(pq.dequeue(), 2);
  equal(pq.dequeue(), 3);
  equal(pq.dequeue(), 4);
});


test("should support multiple queue and dequeue", function() {
  var pq = new PriorityQueue(comparator);

  pq.enqueue(2);
  pq.enqueue(1);
  pq.enqueue(10);
  pq.enqueue(7);

  equal(pq.dequeue(), 1);
  equal(pq.dequeue(), 2);
  equal(pq.size, 2);

  pq.enqueue(5);

  equal(pq.dequeue(), 5);

  pq.enqueue(9);

  equal(pq.dequeue(), 7);
  equal(pq.dequeue(), 9);
  equal(pq.dequeue(), 10);
  equal(pq.size, 0);
});
test("should not break in this scenario", function() {
  var pq = new PriorityQueue(comparator);
  pq.enqueue(358.8032);
  pq.enqueue(115.83879999999999);
  pq.enqueue(209.6474);
  pq.enqueue(89.49359999999999);
  pq.enqueue(183.81199999999998);
  pq.enqueue(84.6016);
  pq.enqueue(306.87039999999996);
  pq.enqueue(77.833);
  pq.enqueue(152.62040000000002);
  pq.enqueue(14.398199999999997);
  pq.enqueue(0.5);
  pq.dequeue();
  pq.enqueue(1);
  pq.dequeue();
  pq.enqueue(1.5);
  pq.dequeue();
  pq.enqueue(2);
  pq.dequeue();
  pq.enqueue(2.5);
  pq.dequeue();
  pq.enqueue(3);
  pq.dequeue();
  pq.enqueue(3.5);
  pq.dequeue();
  pq.enqueue(4);
  pq.dequeue();
  pq.enqueue(4.5);
  pq.dequeue();
  pq.enqueue(5);
  pq.dequeue();
  pq.enqueue(5.5);
  pq.dequeue();
  pq.enqueue(6);
  pq.dequeue();
  pq.enqueue(6.5);
  pq.dequeue();
  pq.enqueue(7);
  pq.dequeue();
  pq.enqueue(7.5);
  pq.dequeue();
  pq.enqueue(8);
  pq.dequeue();
  pq.enqueue(8.5);
  pq.dequeue();
  pq.enqueue(9);
  pq.dequeue();
  pq.enqueue(9.5);
  pq.dequeue();
  pq.enqueue(10);
  pq.dequeue();
  pq.enqueue(10.5);
  pq.dequeue();
  pq.enqueue(11);
  pq.dequeue();
  pq.enqueue(11.5);
  pq.dequeue();
  pq.enqueue(12);
  pq.dequeue();
  pq.enqueue(12.5);
  pq.dequeue();
  pq.enqueue(13);
  pq.dequeue();
  pq.enqueue(13.5);
  pq.dequeue();
  pq.enqueue(14);
  pq.dequeue();
  pq.enqueue(14.5);
  pq.dequeue();
  pq.enqueue(152.62040000000002);
  pq.enqueue(135.1052);
  pq.dequeue();
  pq.enqueue(15);
  pq.dequeue();
  pq.enqueue(15.5);
  pq.dequeue();
  pq.enqueue(16);
  pq.dequeue();
  pq.enqueue(16.5);
  pq.dequeue();
  pq.enqueue(17);
  pq.dequeue();
  pq.enqueue(17.5);
  pq.dequeue();
  pq.enqueue(18);
  pq.dequeue();
  pq.enqueue(18.5);
  pq.dequeue();
  pq.enqueue(19);
  pq.dequeue();
  pq.enqueue(19.5);
  pq.dequeue();
  pq.enqueue(20);
  pq.dequeue();
  pq.enqueue(20.5);
  pq.dequeue();
  pq.enqueue(21);
  pq.dequeue();
  pq.enqueue(21.5);
  pq.dequeue();
  pq.enqueue(22);
  pq.dequeue();
  pq.enqueue(22.5);
  pq.dequeue();
  pq.enqueue(23);
  pq.dequeue();
  pq.enqueue(23.5);
  pq.dequeue();
  pq.enqueue(24);
  pq.dequeue();
  pq.enqueue(24.5);
  pq.dequeue();
  pq.enqueue(25);
  pq.dequeue();
  pq.enqueue(25.5);
  pq.dequeue();
  pq.enqueue(26);
  pq.dequeue();
  pq.enqueue(26.5);
  pq.dequeue();
  pq.enqueue(27);
  pq.dequeue();
  pq.enqueue(27.5);
  pq.dequeue();
  pq.enqueue(28);
  pq.dequeue();
  pq.enqueue(28.5);
  pq.dequeue();
  pq.enqueue(29);
  pq.dequeue();
  pq.enqueue(29.5);
  pq.dequeue();
  pq.enqueue(30);
  pq.dequeue();
  pq.enqueue(30.5);
  pq.dequeue();
  pq.enqueue(31);
  pq.dequeue();
  pq.enqueue(31.5);
  pq.dequeue();
  pq.enqueue(32);
  pq.dequeue();
  pq.enqueue(32.5);
  pq.dequeue();
  pq.enqueue(33);
  pq.dequeue();
  pq.enqueue(33.5);
  pq.dequeue();
  pq.enqueue(34);
  pq.dequeue();
  pq.enqueue(34.5);
  pq.dequeue();
  pq.enqueue(35);
  pq.dequeue();
  pq.enqueue(35.5);
  pq.dequeue();
  pq.enqueue(36);
  pq.dequeue();
  pq.enqueue(36.5);
  pq.dequeue();
  pq.enqueue(37);
  pq.dequeue();
  pq.enqueue(37.5);
  pq.dequeue();
  pq.enqueue(38);
  pq.dequeue();
  pq.enqueue(38.5);
  pq.dequeue();
  pq.enqueue(39);
  pq.dequeue();
  pq.enqueue(39.5);
  pq.dequeue();
  pq.enqueue(40);
  pq.dequeue();
  pq.enqueue(40.5);
  pq.dequeue();
  pq.enqueue(41);
  pq.dequeue();
  pq.enqueue(41.5);
  pq.dequeue();
  pq.enqueue(42);
  pq.dequeue();
  pq.enqueue(42.5);
  pq.dequeue();
  pq.enqueue(43);
  pq.dequeue();
  pq.enqueue(43.5);
  pq.dequeue();
  pq.enqueue(44);
  pq.dequeue();
  pq.enqueue(44.5);
  pq.dequeue();
  pq.enqueue(45);
  pq.dequeue();
  pq.enqueue(45.5);
  pq.dequeue();
  pq.enqueue(46);
  pq.dequeue();
  pq.enqueue(46.5);
  pq.dequeue();
  pq.enqueue(47);
  pq.dequeue();
  pq.enqueue(47.5);
  pq.dequeue();
  pq.enqueue(48);
  pq.dequeue();
  pq.enqueue(48.5);
  pq.dequeue();
  pq.enqueue(49);
  pq.dequeue();
  pq.enqueue(49.5);
  pq.dequeue();
  pq.enqueue(50);
  pq.dequeue();
  pq.enqueue(50.5);
  pq.dequeue();
  pq.enqueue(51);
  pq.dequeue();
  pq.enqueue(51.5);
  pq.dequeue();
  pq.enqueue(52);
  pq.dequeue();
  pq.enqueue(52.5);
  pq.dequeue();
  pq.enqueue(53);
  pq.dequeue();
  pq.enqueue(53.5);
  pq.dequeue();
  pq.enqueue(54);
  pq.dequeue();
  pq.enqueue(54.5);
  pq.dequeue();
  pq.enqueue(55);
  pq.dequeue();
  pq.enqueue(55.5);
  pq.dequeue();
  pq.enqueue(56);
  pq.dequeue();
  pq.enqueue(56.5);
  pq.dequeue();
  pq.enqueue(57);
  pq.dequeue();
  pq.enqueue(57.5);
  pq.dequeue();
  pq.enqueue(58);
  pq.dequeue();
  pq.enqueue(58.5);
  pq.dequeue();
  pq.enqueue(59);
  pq.dequeue();
  pq.enqueue(59.5);
  pq.dequeue();
  pq.enqueue(60);
  pq.dequeue();
  pq.enqueue(60.5);
  pq.dequeue();
  pq.enqueue(61);
  pq.dequeue();
  pq.enqueue(61.5);
  pq.dequeue();
  pq.enqueue(62);
  pq.dequeue();
  pq.enqueue(62.5);
  pq.dequeue();
  pq.enqueue(63);
  pq.dequeue();
  pq.enqueue(63.5);
  pq.dequeue();
  pq.enqueue(64);
  pq.dequeue();
  pq.enqueue(64.5);
  pq.dequeue();
  pq.enqueue(65);
  pq.dequeue();
  pq.enqueue(65.5);
  pq.dequeue();
  pq.enqueue(66);
  pq.dequeue();
  pq.enqueue(66.5);
  pq.dequeue();
  pq.enqueue(67);
  pq.dequeue();
  pq.enqueue(67.5);
  pq.dequeue();
  pq.enqueue(68);
  pq.dequeue();
  pq.enqueue(68.5);
  pq.dequeue();
  pq.enqueue(69);
  pq.dequeue();
  pq.enqueue(69.5);
  pq.dequeue();
  pq.enqueue(70);
  pq.dequeue();
  pq.enqueue(70.5);
  pq.dequeue();
  pq.enqueue(71);
  pq.dequeue();
  pq.enqueue(71.5);
  pq.dequeue();
  pq.enqueue(72);
  pq.dequeue();
  pq.enqueue(72.5);
  pq.dequeue();
  pq.enqueue(73);
  pq.dequeue();
  pq.enqueue(73.5);
  pq.dequeue();
  pq.enqueue(74);
  pq.dequeue();
  pq.enqueue(74.5);
  pq.dequeue();
  pq.enqueue(75);
  pq.dequeue();
  pq.enqueue(75.5);
  pq.dequeue();
  pq.enqueue(76);
  pq.dequeue();
  pq.enqueue(76.5);
  pq.dequeue();
  pq.enqueue(77);
  pq.dequeue();
  pq.enqueue(77.5);
  pq.dequeue();
  pq.enqueue(78);
  pq.dequeue();
  pq.enqueue(306.8704);
  pq.enqueue(197.29700000000003);
  pq.dequeue();
  pq.enqueue(78.5);
  pq.dequeue();
  pq.enqueue(79);
  pq.dequeue();
  pq.enqueue(79.5);
  pq.dequeue();
  pq.enqueue(80);
  pq.dequeue();
  pq.enqueue(80.5);
  pq.dequeue();
  pq.enqueue(81);
  pq.dequeue();
  pq.enqueue(81.5);
  pq.dequeue();
  pq.enqueue(82);
  pq.dequeue();
  pq.enqueue(82.5);
  pq.dequeue();
  pq.enqueue(83);
  pq.dequeue();
  pq.enqueue(83.5);
  pq.dequeue();
  pq.enqueue(84);
  pq.dequeue();
  pq.enqueue(84.5);
  pq.dequeue();
  pq.enqueue(85);
  pq.dequeue();
  pq.enqueue(183.81199999999998);
  pq.enqueue(207.99540000000002);
  pq.dequeue();
  pq.enqueue(85.5);
  pq.dequeue();
  pq.enqueue(86);
  pq.dequeue();
  pq.enqueue(86.5);
  pq.dequeue();
  pq.enqueue(87);
  pq.dequeue();
  pq.enqueue(87.5);
  pq.dequeue();
  pq.enqueue(88);
  pq.dequeue();
  pq.enqueue(88.5);
  pq.dequeue();
  pq.enqueue(89);
  pq.dequeue();
  pq.enqueue(89.5);
  pq.dequeue();
  pq.enqueue(209.6474);
  pq.enqueue(210.64839999999998);
  pq.dequeue();
  pq.enqueue(90);
  pq.dequeue();
  pq.enqueue(90.5);
  pq.dequeue();
  pq.enqueue(91);
  pq.dequeue();
  pq.enqueue(91.5);
  pq.dequeue();
  pq.enqueue(92);
  pq.dequeue();
  pq.enqueue(92.5);
  pq.dequeue();
  pq.enqueue(93);
  pq.dequeue();
  pq.enqueue(93.5);
  pq.dequeue();
  pq.enqueue(94);
  pq.dequeue();
  pq.enqueue(94.5);
  pq.dequeue();
  pq.enqueue(95);
  pq.dequeue();
  pq.enqueue(95.5);
  pq.dequeue();
  pq.enqueue(96);
  pq.dequeue();
  pq.enqueue(96.5);
  pq.dequeue();
  pq.enqueue(97);
  pq.dequeue();
  pq.enqueue(97.5);
  pq.dequeue();
  pq.enqueue(98);
  pq.dequeue();
  pq.enqueue(98.5);
  pq.dequeue();
  pq.enqueue(99);
  pq.dequeue();
  pq.enqueue(99.5);
  pq.dequeue();
  pq.enqueue(100);
  pq.dequeue();
  pq.enqueue(100.5);
  pq.dequeue();
  pq.enqueue(101);
  pq.dequeue();
  pq.enqueue(101.5);
  pq.dequeue();
  pq.enqueue(102);
  pq.dequeue();
  pq.enqueue(102.5);
  pq.dequeue();
  pq.enqueue(103);
  pq.dequeue();
  pq.enqueue(103.5);
  pq.dequeue();
  pq.enqueue(104);
  pq.dequeue();
  pq.enqueue(104.5);
  pq.dequeue();
  pq.enqueue(105);
  pq.dequeue();
  pq.enqueue(105.5);
  pq.dequeue();
  pq.enqueue(106);
  pq.dequeue();
  pq.enqueue(106.5);
  pq.dequeue();
  pq.enqueue(107);
  pq.dequeue();
  pq.enqueue(107.5);
  pq.dequeue();
  pq.enqueue(108);
  pq.dequeue();
  pq.enqueue(108.5);
  pq.dequeue();
  pq.enqueue(109);
  pq.dequeue();
  pq.enqueue(109.5);
  pq.dequeue();
  pq.enqueue(110);
  pq.dequeue();
  pq.enqueue(110.5);
  pq.dequeue();
  pq.enqueue(111);
  pq.dequeue();
  pq.enqueue(111.5);
  pq.dequeue();
  pq.enqueue(112);
  pq.dequeue();
  pq.enqueue(112.5);
  pq.dequeue();
  pq.enqueue(113);
  pq.dequeue();
  pq.enqueue(113.5);
  pq.dequeue();
  pq.enqueue(114);
  pq.dequeue();
  pq.enqueue(114.5);
  pq.dequeue();
  pq.enqueue(115);
  pq.dequeue();
  pq.enqueue(115.5);
  pq.dequeue();
  pq.enqueue(116);
  pq.dequeue();
  pq.enqueue(358.8032);
  pq.enqueue(235.19819999999999);
  pq.dequeue();
  pq.enqueue(116.5);
  pq.dequeue();
  pq.enqueue(117);
  pq.dequeue();
  pq.enqueue(117.5);
  pq.dequeue();
  pq.enqueue(118);
  pq.dequeue();
  pq.enqueue(118.5);
  pq.dequeue();
  pq.enqueue(119);
  pq.dequeue();
  pq.enqueue(119.5);
  pq.dequeue();
  pq.enqueue(120);
  pq.dequeue();
  pq.enqueue(120.5);
  pq.dequeue();
  pq.enqueue(121);
  pq.dequeue();
  pq.enqueue(121.5);
  pq.dequeue();
  pq.enqueue(122);
  pq.dequeue();
  pq.enqueue(122.5);
  pq.dequeue();
  pq.enqueue(123);
  pq.dequeue();
  pq.enqueue(123.5);
  pq.dequeue();
  pq.enqueue(124);
  pq.dequeue();
  pq.enqueue(124.5);
  pq.dequeue();
  pq.enqueue(125);
  pq.dequeue();
  pq.enqueue(125.5);
  pq.dequeue();
  pq.enqueue(126);
  pq.dequeue();
  pq.enqueue(126.5);
  pq.dequeue();
  pq.enqueue(127);
  pq.dequeue();
  pq.enqueue(127.5);
  pq.dequeue();
  pq.enqueue(128);
  pq.dequeue();
  pq.enqueue(128.5);
  pq.dequeue();
  pq.enqueue(129);
  pq.dequeue();
  pq.enqueue(129.5);
  pq.dequeue();
  pq.enqueue(130);
  pq.dequeue();
  pq.enqueue(130.5);
  pq.dequeue();
  pq.enqueue(131);
  pq.dequeue();
  pq.enqueue(131.5);
  pq.dequeue();
  pq.enqueue(132);
  pq.dequeue();
  pq.enqueue(132.5);
  pq.dequeue();
  pq.enqueue(133);
  pq.dequeue();
  pq.enqueue(133.5);
  pq.dequeue();
  pq.enqueue(134);
  pq.dequeue();
  pq.enqueue(134.5);
  pq.dequeue();
  pq.enqueue(135);
  pq.dequeue();
  pq.enqueue(135.5);
  pq.dequeue();
  pq.enqueue(152.6204);
  pq.enqueue(255.8122);
  pq.dequeue();
  pq.enqueue(136);
  pq.dequeue();
  pq.enqueue(136.5);
  pq.dequeue();
  pq.enqueue(137);
  pq.dequeue();
  pq.enqueue(137.5);
  pq.dequeue();
  pq.enqueue(138);
  pq.dequeue();
  pq.enqueue(138.5);
  pq.dequeue();
  pq.enqueue(139);
  pq.dequeue();
  pq.enqueue(139.5);
  pq.dequeue();
  pq.enqueue(140);
  pq.dequeue();
  pq.enqueue(140.5);
  pq.dequeue();
  pq.enqueue(141);
  pq.dequeue();
  pq.enqueue(141.5);
  pq.dequeue();
  pq.enqueue(142);
  pq.dequeue();
  pq.enqueue(142.5);
  pq.dequeue();
  pq.enqueue(143);
  pq.dequeue();
  pq.enqueue(143.5);
  pq.dequeue();
  pq.enqueue(144);
  pq.dequeue();
  pq.enqueue(144.5);
  pq.dequeue();
  pq.enqueue(145);
  pq.dequeue();
  pq.enqueue(145.5);
  pq.dequeue();
  pq.enqueue(146);
  pq.dequeue();
  pq.enqueue(146.5);
  pq.dequeue();
  pq.enqueue(147);
  pq.dequeue();
  pq.enqueue(147.5);
  pq.dequeue();
  pq.enqueue(148);
  pq.dequeue();
  pq.enqueue(148.5);
  pq.dequeue();
  pq.enqueue(149);
  pq.dequeue();
  pq.enqueue(149.5);
  pq.dequeue();
  pq.enqueue(150);
  pq.dequeue();
  pq.enqueue(150.5);
  pq.dequeue();
  pq.enqueue(151);
  pq.dequeue();
  pq.enqueue(151.5);
  pq.dequeue();
  pq.enqueue(152);
  pq.dequeue();
  pq.enqueue(152.5);
  pq.dequeue();
  pq.enqueue(153);
  pq.dequeue();
  pq.enqueue(530.9274);
  pq.enqueue(255.81220000000002);
  pq.dequeue();
  pq.dequeue();
  pq.dequeue();
  pq.enqueue(564.806);
  pq.enqueue(207.9954);
  pq.dequeue();
  pq.dequeue();
  pq.enqueue(306.8704);
  pq.enqueue(316.761);
  pq.dequeue();
  pq.dequeue();
  debugger;
  var n = pq.dequeue();
  notEqual(n, 153);
});
